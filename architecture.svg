<svg width="1100" height="650" viewBox="0 0 1100 650" xmlns="http://www.w3.org/2000/svg">
  <style>
    .title { font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; }
    .subtitle { font-family: Arial, sans-serif; font-size: 14px; }
    .box-title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; }
    .box-text { font-family: Arial, sans-serif; font-size: 12px; }
    .small { font-size: 11px; }
  </style>

  <!-- Background -->
  <rect x="0" y="0" width="1100" height="650" fill="#f7f9fc"/>

  <!-- Diagram title -->
  <text x="550" y="40" text-anchor="middle" class="title">
    IssueCoin AI â€“ HR Multi-Agent Automation Architecture
  </text>
  <text x="550" y="65" text-anchor="middle" class="subtitle">
    Microsoft 365 Â· Azure OpenAI Â· AWS Lambda + Titan Â· Power Automate
  </text>

  <!-- ===== Identity & Security Layer (top) ===== -->
  <rect x="350" y="80" width="400" height="70" rx="10" ry="10" fill="#e3f0ff" stroke="#2d6cdf" stroke-width="1.5"/>
  <text x="550" y="110" text-anchor="middle" class="box-title">Azure AD (Entra ID)</text>
  <text x="550" y="130" text-anchor="middle" class="box-text">Identity Â· SSO Â· MFA Â· Role-based Access</text>

  <!-- Arrow down from Azure AD -->
  <line x1="550" y1="150" x2="550" y2="185" stroke="#333" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- ===== Business Apps Layer ===== -->
  <!-- Microsoft Forms -->
  <rect x="80" y="190" width="260" height="90" rx="10" ry="10" fill="#ffffff" stroke="#888" stroke-width="1.2"/>
  <text x="210" y="215" text-anchor="middle" class="box-title">Microsoft Forms</text>
  <text x="210" y="235" text-anchor="middle" class="box-text">Onboarding forms Â· Leave requests</text>
  <text x="210" y="255" text-anchor="middle" class="box-text small">JSON / HTTP triggers for Power Automate</text>

  <!-- SharePoint HR Portal -->
  <rect x="420" y="190" width="260" height="90" rx="10" ry="10" fill="#ffffff" stroke="#888" stroke-width="1.2"/>
  <text x="550" y="215" text-anchor="middle" class="box-title">SharePoint HR Portal</text>
  <text x="550" y="235" text-anchor="middle" class="box-text">HR lists Â· Training records Â· Employees</text>
  <text x="550" y="255" text-anchor="middle" class="box-text small">REST API Â· Lists Â· Digital Training Library</text>

  <!-- Outlook / Teams -->
  <rect x="760" y="190" width="260" height="90" rx="10" ry="10" fill="#ffffff" stroke="#888" stroke-width="1.2"/>
  <text x="890" y="215" text-anchor="middle" class="box-title">Outlook &amp; Teams</text>
  <text x="890" y="235" text-anchor="middle" class="box-text">HR notifications Â· Approvals Â· Reminders</text>
  <text x="890" y="255" text-anchor="middle" class="box-text small">Email + future Teams adaptive cards</text>

  <!-- Connections from apps to Power Automate -->
  <line x1="210" y1="280" x2="210" y2="320" stroke="#333" stroke-width="1.4" marker-end="url(#arrow)"/>
  <line x1="550" y1="280" x2="550" y2="320" stroke="#333" stroke-width="1.4" marker-end="url(#arrow)"/>
  <line x1="890" y1="280" x2="890" y2="320" stroke="#333" stroke-width="1.4" marker-end="url(#arrow)"/>

  <!-- ===== Power Automate Layer ===== -->
  <rect x="150" y="320" width="800" height="90" rx="10" ry="10" fill="#ecf6ff" stroke="#2d6cdf" stroke-width="1.5"/>
  <text x="550" y="345" text-anchor="middle" class="box-title">
    Power Automate â€“ HR Workflow Orchestration
  </text>
  <text x="550" y="365" text-anchor="middle" class="box-text">
    Approvals Â· Email automation Â· Status updates Â· Reminders
  </text>
  <text x="550" y="385" text-anchor="middle" class="box-text small">
    Attendance flow Â· Onboarding flow Â· Training flow (coming) Â· Integration with Azure OpenAI agents
  </text>

  <!-- Arrow down from Power Automate to Agents layer -->
  <line x1="550" y1="410" x2="550" y2="440" stroke="#333" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- ===== AI Agents Layer ===== -->
  <!-- IssueCoin AI Boss -->
  <rect x="380" y="440" width="340" height="90" rx="12" ry="12" fill="#fff5e6" stroke="#e38b2d" stroke-width="1.5"/>
  <text x="550" y="465" text-anchor="middle" class="box-title">IssueCoin AI Boss Agent ðŸ¤–</text>
  <text x="550" y="485" text-anchor="middle" class="box-text">
    Central coordination Â· Business decision logic Â· RAG
  </text>
  <text x="550" y="505" text-anchor="middle" class="box-text small">
    Runs on Azure OpenAI â€“ communicates with all sub-agents
  </text>

  <!-- Sub-agents row -->
  <!-- IC-HR Agent -->
  <rect x="80" y="550" width="200" height="70" rx="10" ry="10" fill="#ffffff" stroke="#555" stroke-width="1.2"/>
  <text x="180" y="575" text-anchor="middle" class="box-title">IC-HR Agent</text>
  <text x="180" y="595" text-anchor="middle" class="box-text small">
    Onboarding Â· Pre-start tasks Â· HR coordination
  </text>

  <!-- Attendance Agent -->
  <rect x="310" y="550" width="200" height="70" rx="10" ry="10" fill="#ffffff" stroke="#555" stroke-width="1.2"/>
  <text x="410" y="575" text-anchor="middle" class="box-title">Attendance Agent</text>
  <text x="410" y="595" text-anchor="middle" class="box-text small">
    Leave requests Â· Approvals Â· Status sync
  </text>

  <!-- Training Agent -->
  <rect x="540" y="550" width="200" height="70" rx="10" ry="10" fill="#ffffff" stroke="#555" stroke-width="1.2"/>
  <text x="640" y="575" text-anchor="middle" class="box-title">Training Agent</text>
  <text x="640" y="595" text-anchor="middle" class="box-text small">
    Mandatory training Â· Reminders (coming soon)
  </text>

  <!-- Legislative Agent (AWS Titan) -->
  <rect x="770" y="550" width="250" height="70" rx="10" ry="10" fill="#ffffff" stroke="#555" stroke-width="1.2"/>
  <text x="895" y="572" text-anchor="middle" class="box-title">Legislative Agent</text>
  <text x="895" y="590" text-anchor="middle" class="box-text small">
    AWS Lambda + Titan â€“ EU law & GDPR monitoring
  </text>
  <text x="895" y="608" text-anchor="middle" class="box-text small">
    Read-only alerts â†’ reports to IssueCoin AI Boss
  </text>

  <!-- Connections between Boss and sub-agents -->
  <line x1="550" y1="530" x2="180" y2="550" stroke="#666" stroke-width="1.2" marker-end="url(#arrow)"/>
  <line x1="550" y1="530" x2="410" y2="550" stroke="#666" stroke-width="1.2" marker-end="url(#arrow)"/>
  <line x1="550" y1="530" x2="640" y2="550" stroke="#666" stroke-width="1.2" marker-end="url(#arrow)"/>
  <line x1="550" y1="530" x2="895" y2="550" stroke="#666" stroke-width="1.2" marker-end="url(#arrow)"/>

  <!-- Marker definition -->
  <defs>
    <marker id="arrow" markerWidth="8" markerHeight="8" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L6,3 z" fill="#333" />
    </marker>
  </defs>
</svg>
